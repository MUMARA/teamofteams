<div layout="row" layout-align="center start">
    <!-- Side Nav Bar -->
    <div class="viewHeight" layout="column" layout-align="start center">
        <md-card style="width: 220px; height: 300px; margin:0px;" class="foreColorDarkGrey" layout="column">
            <div style="margin:auto;">
                <a ui-sref="user.group({groupID: group.group.groupID})" layout="row" layout-align="center center">
                    <img ng-src="{{ group.group['logo-image'].url || 'https://s3-us-west-2.amazonaws.com/defaultimgs/teamofteams.png' }}" class="md-card-image" alt="group image" style="width: 100px; height:100px; padding-bottom:10px">
                </a>
                <h4 class="textAlignCenter" layout-margin>
					{{ group.group.title }}
				</h4>
                <div layout="row" layout-align="center center" ng-show="group.group['address-title']">
                    <md-icon md-svg-src="img/location.svg" class="nomargin"></md-icon>
                    <div>{{group.group['address-title']}}</div>
                </div>
            </div>
            <div flex="25" style="border-top: 2px solid #dddddd; position: relative; margin:0px" layout="row" layout-align="start center">
                <md-button class="md-fab cards-button" aria-label="Setting" ng-show="group.group.isAdmin()">
                    <ng-md-icon icon="settings" class="fillColorWhite" size="20"></ng-md-icon>
                </md-button>
                <div style="border-right: 2px solid #dddddd; padding-right:10px;" layout-margin>
                    <img ng-src="{{group.userObj['profile-image'] || 'https://s3-us-west-2.amazonaws.com/defaultimgs/user.png'}}" class="md-avatar icon40px user-iamge" alt="group owner image" />
                </div>
                <div layout="row" layout-align="start center" layout-margin>
                    <md-progress-circular md-mode="determinate" md-diameter="44" ng-value="( group.group['members-checked-in'].count / group.group['members-count'] ) * 100" class="md-accent userPageGroupProg"></md-progress-circular>
                    <span style="margin-left: -45%;margin-top:20%;font-size: 11px">{{ ( group.group['members-checked-in'].count / group.group['members-count'] ) * 100 | number: 0 }}%</span>
                </div>
            </div>
        </md-card>
        <div style="border-bottom: 5px solid green;"></div>
    </div>
    <!--navigation side-->
    <div class="viewHeight gradient" layout="column" layout-align="space-between center">
        <div class="nopadding nomargin" >
            <img src="img/menu.svg" class="nooutline icon40px" layout-margin id="menu-toggle" />
            <md-divider class="backColorWhite"></md-divider>
            <div layout="row">
                <img src="img/line.svg" class="nooutline cursorPointer icon40px" layout-margin ng-click="group.showPanel('activity')" />
                <img src="img/1arrow.png" ng-hide="group.someValue1" class="showArrow">
            </div>
            <div layout="row">
                <img src="img/comment.svg" class="nooutline cursorPointer icon40px" layout-margin ng-click="group.showPanel('chat')" />
                <img src="img/1arrow.png" class="showArrow" ng-hide="group.someValue2">
            </div>
        </div>
        <div ng-show="group.isAdmin()" style="padding-bottom:100%">
            <md-divider class="backColorWhite"></md-divider>
            <div layout="row">
                <img src="img/menu.svg" class="nooutline cursorPointer icon40px" layout-margin ng-click="group.showPanel('manualAttendace')" />
                <img src="img/1arrow.png" ng-hide="group.someValue3" class="showArrow">
            </div>
            <div layout="row">
                <img src="img/line.svg" class="nooutline cursorPointer icon40px" layout-margin />
                <img src="img/1arrow.png" ng-hide="group.someValue4" class="showArrow">
            </div>
        </div>
    </div>
    <!-- Team Attendance -->
    <div class="viewHeight teamAttendance" layout="column" flex ng-show="group.showManualAttendace">
	    <div layout="row" layout-align="space-between center" style="font-size:large;" class="backColorWhite">
	    	<h4 class="leftmargin20px">Manual Attendance</h4>
	    	<md-progress-circular md-mode="indeterminate" ng-show="group.processTeamAttendance" md-diameter="30"></md-progress-circular>
	    	<div layout="row" flex="50">	
	            <ng-md-icon icon="search" size="36" class="nooutline fillColorDarkGrey" ng-click="user.setFocus()"></ng-md-icon>
	            <md-input-container md-no-float class="nopadding nomargin" flex layout="row">
	                <input type="text" id="#UserSearch" ng-model="user.searchbox" aria-label="search dashboard" class="serachbox2" placeholder="Search">
	            </md-input-container>
	        </div>
	    </div>
        <md-table-container flex class="md-whiteframe-z2 backColorWhite">
            <md-divider md-outset></md-divider>
            <table md-table>
                <thead md-head>
                    <tr md-row>
                        <th md-column>
                            <md-button class="md-fab md-mini backColorOrange" aria-label="checkout" style="line-height: 40px !important;" ng-click="group.checkoutAll()" >
                                <md-icon md-svg-icon="../img/people_button.svg" class="nomargin" aria-label="People Group Icon"></md-icon>
                            </md-button>
                        </th>
                        <th md-column>Name</th>
                        <th md-column>Team of Teams</th>
                        <th md-column>Team</th>
                        <th md-column>Message</th>
                    </tr>
                </thead>
                <tbody md-body>
                    <tr md-row ng-repeat="user in group.users | orderBy: ['firstName', 'lastName', 'groupTitle', 'subgroupTitle'] | filter: {groupID: group.groupID, firstName: group.searchUser}" ng-click="group.CheckInuser(user.groupID, user.subgroupID, user.id, user.type)" class="hoverLightGrey3 nooutline" >
                        <td md-cell>
                            <img ng-src="{{user.profileImage ||'https://s3-us-west-2.amazonaws.com/defaultimgs/user.png'}}" class="imageRound icon50px" ng-style="user.type == 1 ? {'border':'3px solid #8BC53F'} :{'border':'3px solid #c51903'}">
                        </td>
                        <td md-cell>{{user.fullName}}</td>
                        <td md-cell>{{user.groupTitle}}</td>
                        <td md-cell>{{user.subgroupTitle}}</td>
                        <td md-cell>{{user.message}}</td>
                    </tr>
                </tbody>
            </table>
        </md-table-container>
    </div>
    <!-- Activity -->
    <div class="viewHeight activity" flex layout="column" ng-show="group.showActivity">
        <div layout="row" layout-padding layout-align="space-between center" style="font-size:large;" class="backColorWhite">
    	    <ng-md-icon icon="search" size="36" class="nooutline fillColorDarkGrey" ng-click="user.setFocus()"></ng-md-icon>
            <md-input-container md-no-float class="nopadding nomargin" flex layout="row">
                <input type="text" id="#UserSearch" ng-model="user.searchbox" aria-label="search dashboard" class="serachbox2" placeholder="Search">
            </md-input-container>
	    </div>
        <md-table-container flex class="md-whiteframe-z2 backColorWhite viewHeight vscroll">
            <md-divider md-outset></md-divider>
            <table md-table>
                <thead md-head>
                    <tr md-row>
                        <th md-column>
                            <md-button class="md-fab md-mini backColorOrange" aria-label="checkout" style="line-height: 40px !important;" ng-click="group.checkoutAll()" >
                                <md-icon md-svg-icon="../img/people_button.svg" class="nomargin" aria-label="People Group Icon"></md-icon>
                            </md-button>
                        </th>
                        <th md-column>Name</th>
                        <th md-column>Team of Teams</th>
                        <th md-column>Team</th>
                        <th md-column>Message</th>
                    </tr>
                </thead>
                <tbody md-body>
                    <tr md-row ng-repeat="user in group.users | orderBy: ['firstName', 'lastName', 'groupTitle', 'subgroupTitle'] | filter: {groupID: group.groupID, firstName: group.searchUser}" class="hoverLightGrey3 nooutline">
                        <td md-cell>
                            <img ng-src="{{user.profileImage ||'https://s3-us-west-2.amazonaws.com/defaultimgs/user.png'}}" class="imageRound icon50px" ng-style="user.type == 1 ? {'border':'3px solid #8BC53F'} :{'border':'3px solid #c51903'}">
                        </td>
                        <td md-cell>{{user.fullName}}</td>
                        <td md-cell>{{user.groupTitle}}</td>
                        <td md-cell>{{user.subgroupTitle}}</td>
                        <td md-cell>{{user.message}}</td>
                    </tr>
                </tbody>
            </table>
        </md-table-container>
    </div>
    <!--chat side-->
    <div class="viewHeight chatSide backColorWhite" layout="column" layout-align="space-between start" flex ng-show="group.showChat">
    	<div style="width: 100%;">
	        <div layout="row" layout-align="space-between center" style="font-size:large;" class="backColorWhite">
		    	<h4 class="leftmargin20px">Channel Headlines</h4>
		    	<md-progress-circular md-mode="indeterminate" ng-show="group.processTeamAttendance" md-diameter="30"></md-progress-circular>
		    	<div layout="row" flex="50">	
		            <ng-md-icon icon="search" size="36" class="nooutline fillColorDarkGrey" ng-click="user.setFocus()"></ng-md-icon>
		            <md-input-container md-no-float class="nopadding nomargin" flex layout="row">
		                <input type="text" id="#UserSearch" ng-model="user.searchbox" aria-label="search dashboard" class="serachbox2" placeholder="Search">
		            </md-input-container>
		        </div>
		    </div>
		    <md-divider md-outset></md-divider>
	        <div layout="column" class="backColorWhite">
	            <!--for group chats-->
	            <md-content flex ng-hide="group.activesubID" class="backColorWhite greenScroller">
	                <div>
	                    <md-list style="position: relative; padding: 0px !important;" ng-repeat="message in group.messagesArray">
	                        <md-list-item class="md-3-line listContainer" ng-if="group.filterchatters(message.from)">
	                            <img ng-src="{{group.getUserProfile(message.from)['profile-image']}}" class="md-avatar listImage" />
	                            <div class="md-list-item-text">
	                                <div id="headingDiv" class="md-whiteframe-z2">
	                                    <h3 class="headingDiv">
	                                                    <span>{{group.getUserProfile(message.from).firstName + ' '+ group.getUserProfile(message.from).lastName}}</span>
	                                                    <span class="timeSpan">10:30AM</span></h3>
	                                </div>
	                                <p class="listPara md-whiteframe-z2">{{ message.text }}</p>
	                            </div>
	                        </md-list-item>
	                        <md-list-item class="md-3-line listContainer" ng-if="!group.filterchatters(message.from)">
	                            <img ng-src="{{group.getUserProfile(message.from)['profile-image']}}" class="md-avatar listImg" />
	                            <div class="md-list-item-text " style="  padding: 16px 24px 16px 0 ;">
	                                <div id="headingDiv2" class="" style="float:right">
	                                    <h3 class="headingDiv2">
	                                                    <span class="timeSpan2">10:30AM</span>
	                                                    {{group.getUserProfile(message.from).firstName + ' '+ group.getUserProfile(message.from).lastName}}

	                                                </h3>
	                                </div>
	                                <br>
	                                <p class="listPara md-whiteframe-z3 " style="margin-top: 4px;background-color: #0072FF !important;float: right;position: absolute;right: 56px;">
	                                    {{ message.text }}</p>
	                            </div>
	                        </md-list-item>
	                    </md-list>
	                </div>
	            </md-content>
	            <!--for teams chats-->
	            <md-content flex ng-show="group.activesubID" class="backColorWhite greenScroller">
	                <div>
	                    <md-list style="position: relative; padding: 0px !important;" ng-repeat="message in group.TeammessagesArray">
	                        <md-list-item class="md-3-line listContainer" ng-if="group.filterchatters(message.from)">
	                            <img ng-src="{{group.getUserProfile(message.from)['profile-image']}}" class="md-avatar listImage" />
	                            <div class="md-list-item-text">
	                                <div id="headingDiv" class="md-whiteframe-z2">
	                                    <h3 class="headingDiv">
	                                                    <span>{{group.getUserProfile(message.from).firstName + ' '+ group.getUserProfile(message.from).lastName}}</span>
	                                                    <span class="timeSpan">10:30AM</span></h3>
	                                </div>
	                                <p class="listPara md-whiteframe-z2">{{ message.text }}</p>
	                            </div>
	                        </md-list-item>
	                        <md-list-item class="md-3-line listContainer" ng-if="!group.filterchatters(message.from)">
	                            <img ng-src="{{group.getUserProfile(message.from)['profile-image']}}" class="md-avatar listImg" />
	                            <div class="md-list-item-text " style="  padding: 16px 24px 16px 0 ;">
	                                <div id="headingDiv2" class="" style="float:right">
	                                    <h3 class="headingDiv2">
	                                                    <span class="timeSpan2">10:30AM</span>
	                                                    {{group.getUserProfile(message.from).firstName + ' '+ group.getUserProfile(message.from).lastName}}

	                                                </h3>
	                                </div>
	                                <br>
	                                <p class="listPara md-whiteframe-z3 " style="margin-top: 4px;background-color: #0072FF !important;float: right;position: absolute;right: 56px;">
	                                    {{ message.text }}</p>
	                            </div>
	                        </md-list-item>
	                    </md-list>
	                </div>
	            </md-content>
	        </div>
        </div>
        <div style="padding-bottom:50px; width: 100%;">
			<!--for group send msg-->
	        <form ng-hide="group.activesubID" class="backColorWhite" ng-submit="group.SendMsg()" layout="row" layout-align="center center" layout-padding>
	                <md-input-container flex style="border: 1px solid lightgrey; padding: 0; background-color: #F8F8F8;" layout="row" layout-align="start center">
	                    <div style="  border-right: 1px solid lightgrey;">
	                        <img src="img/arrow.svg" class="icon20px padding10px">
	                    </div>
		                <input class="serachbox2" type="text" ng-model="group.text.msg" aria-label="Group Text Msg Box" >
	                </md-input-container>
	                <md-button ng-click="group.updateScroll()" ng-disabled="!group.messagesArray.length" class="backColorSeaGreen foreColorWhite">SEND</md-button>
	        </form>
	        <!--for team send msg-->
	        <form ng-show="group.activesubID" class="backColorWhite" ng-submit="group.TeamSendMsg()" layout="row" layout-align="center center" layout-padding>
	        	<md-input-container flex style="border: 1px solid lightgrey; padding: 0; background-color: #F8F8F8;" layout="row" layout-align="start center">
	                <div style="  border-right: 1px solid lightgrey;">
	                    <img src="img/arrow.svg" class="icon20px padding10px">
	                </div>
	                <input class="serachbox2" type="text" ng-model="group.text.msg" aria-label="Group Text Msg Box" >
	            </md-input-container>
	            <md-button ng-click="group.updateScroll()" ng-disabled="!group.TeammessagesArray.length" class="backColorSeaGreen foreColorWhite">SEND</md-button>
	        </form>
        </div>
    </div>
    <!--online side-->
    <div class="viewHeight onlineSide" ng-show="group.showChat" style="max-width:400px;width:400px;min-width:400px">
        <md-card style="margin: 0 !important; color: #000000">
            <md-toolbar class="md-whiteframe-z1 backColorWhite">
                <md-tabs style=" background-color: #68C2E8" class="OnlineChat">
                    <!--channel side-->
                    <md-tab label="channels" class="rightTbs">
                        <md-content ng-hide="group.activesubID" ng-repeat="channel in group.channels track by $index">
                            <md-list ng-class="$index%2==0 ? 'moh' : 'sin'">
                                <md-list-item class="md-3-line selectable" ng-click="group.viewChannelMessages(channel)" style="padding-left: 10px">
                                    <div class="md-list-item-text" style="padding:0px;">
                                        <ng-md-icon icon="more_vert" style="float: right;padding-top: 18px;fill: #FFFFFF;"></ng-md-icon>
                                        <span style="font-size: 13px; color: #1F7396;">{{channel.title}}</span>
                                        <p style="font-size: 10px;margin-top: -12px;color: #ffffff">
                                            <!--{{ channel.desc }}-->this is private channel not to distrub it again</p>
                                        <div style="float:right; padding-right: 20px; font-size: 12px; color:#3b637a">
                                            <span style="color: #1F7396">Members : <span style="color:#ffffff"> 256 </span> </span>
                                            cd <span style="color: #1F7396">Online : <span style="color:#ffffff"> 30 </span></span>
                                        </div>
                                    </div>
                                </md-list-item>
                            </md-list>
                        </md-content>
                        <md-content ng-show="group.activesubID" ng-repeat="channelt in group.Teamchannels track by $index">
                            <md-list ng-class="$index%2==0 ? 'moh' : 'sin'">
                                <md-list-item class="md-3-line selectable" ng-click="group.viewTeamChannelMessages(channelt)" style="padding-left: 10px">
                                    <div class="md-list-item-text" style="padding:0px;">
                                        <ng-md-icon icon="more_vert" style="float: right;padding-top: 18px;fill: #FFFFFF;"></ng-md-icon>
                                        <span style="font-size: 13px; color: #1F7396;">{{channelt.title}}</span>
                                        <p style="font-size: 10px;margin-top: -12px;color: #ffffff">
                                            <!--{{ channelt.desc }}-->this is private channel not to distrub it again</p>
                                        <div style="float:right; padding-right: 20px; font-size: 12px; color:#3b637a">
                                            <span style="color: #1F7396">Members : <span style="color:#ffffff"> 256 </span> </span>
                                            <span style="color: #1F7396">Online : <span style="color:#ffffff"> 30 </span></span>
                                        </div>
                                    </div>
                                </md-list-item>
                            </md-list>
                        </md-content>
                    </md-tab>
                    <!--Private group side-->
                    <md-tab label="Private groups" class="rightTbs">
                        <md-content>
                        </md-content>
                    </md-tab>
                    <!--direct message side-->
                    <md-tab label="Direct Messages" class="rightTbs">
                        <md-content class="grayScroller">
                            <md-list style="padding: 0px 0px 5px 0px;!important;position: relative" ng-class="$index%2==0 ? 'moh' : 'sin'" ng-repeat="member in group.members track by $index">
                                <span ng-class="$index%3==0 ? 'statusOnline' : 'statusOffline'"></span>
                                <md-list-item class="md-3-line selectable">
                                    <img ng-src="{{member.user.profile['profile-image'] || 'https://s3-us-west-2.amazonaws.com/defaultimgs/user.png'}}" class="md-avatar" style="margin-top:10px;   margin-left: 38px" />
                                    <div class="md-list-item-text" style="  padding: 11px 0 11px 0;">
                                        <h4 style="color:#ffffff;  margin: -4px 0 -34px 11px !important">
                                            <span layout="row" layout-align="start center">
                                                <span flex="80" layout="column">{{member.user.profile.firstName + ' ' + member.user.profile.lastName}}</span>
                                            <md-button offset="20" layout="column" class="md-icon-button" aria-label="More" style="">
                                                <md-icon md-svg-icon="img/ring.svg"
                                                         style="height: 17px !important;"></md-icon>
                                            </md-button>
                                            </span>
                                        </h4>
                                    </div>
                                </md-list-item>
                            </md-list>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </md-toolbar>
            <!--<md-button class="md-raised"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>-->
            <md-button ng-hide="group.activesubID" class="md-fab" aria-label="Create Group channel" style="margin-top: -80px;margin-left: 150px;width: 35px;height: 35px" ng-click="group.createChannelsPage()">
                <ng-md-icon icon="add" style="fill: #ffffff" size="20" class="prof"></ng-md-icon>
            </md-button>
            <md-button ng-show="group.activesubID" class="md-fab" aria-label="Create Team channel" style="margin-top: -80px;margin-left: 150px;width: 35px;height: 35px" ng-click="group.createTeamsChannelsPage()">
                <ng-md-icon icon="add" style="fill: #ffffff" size="20" class="prof"></ng-md-icon>
            </md-button>
        </md-card>
    </div>
</div>
